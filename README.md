# Web-Programming-HW2
## امیرمحمد جزایری 401105786

### توضیحات تمرین
تمرین دستگرمی دوم یک اپلیکیشن تحت وب برای طراحی اشکال ساده هندسی است که با استفاده از کتابخانه‌ی React و زبان TypeScript توسعه داده شده. در این برنامه، کاربر می‌تواند به راحتی با انتخاب یک شکل (دایره، مربع یا مثلث) از طریق نوار کناری، روی یک بوم نقاشی آن را رسم کند. شکل‌ها دقیقاً در نقطه‌ای از بوم که کاربر کلیک می‌کند، ظاهر می‌شوند و رنگ هر شکل به صورت تصادفی تعیین می‌شود تا تنوع بصری حفظ شود.

---
### ساختار کد 

ساختار کد پروژه ماژولار بوده و هر بخش از رابط کاربری در قالب یک کامپوننت جداگانه پیاده‌سازی شده است. برای مثال، کامپوننت Canvas مسئول نمایش و تعامل با بوم است، Sidebar انتخاب شکل‌ها را مدیریت می‌کند، Header مربوط به ابزارهای مدیریتی و Stats نیز آمار اشکال را نمایش می‌دهد. با استفاده از TypeScript، تمام داده‌ها دارای نوع مشخص هستند که این موضوع باعث افزایش اطمینان از عملکرد درست برنامه و کاهش خطاهای رایج شده است.

---
### نحوه کارکرد
#### **ساختار داده‌ای**:
در فایل shape.ts، نوع داده‌ای Shape تعریف شده است. هر شکل دارای ویژگی‌هایی مانند id, type, x, y, width, height, و color است. شناسه‌ها به صورت uuid تولید می‌شوند و type می‌تواند یکی از مقادیر square, circle, یا triangle باشد. این مدل پایه تمام عملکردهای دیگر را تشکیل می‌دهد
#### **App.tsx**:
در App.tsx، مدیریت کلی وضعیت برنامه انجام می‌شود. سه state اصلی در اینجا نگهداری می‌شوند:
- title: عنوان نقاشی
- shapes: لیست اشکال روی بوم
- selectedShape: شکل انتخاب‌شده برای رسم
کاربر پس از انتخاب نوع شکل از نوار کناری، با کلیک روی بوم می‌تواند یک شکل جدید رسم کند. هر شکل با مختصات دقیق ماوس ایجاد می‌شود و اندازه آن به صورت ثابت (مثلاً 100x100 پیکسل) تعیین می‌گردد. رنگ هر شکل نیز به صورت تصادفی تولید می‌شود.
تابع addShape شکل جدیدی به آرایه اضافه می‌کند، در حالی‌که removeShape با استفاده از شناسه‌ی شکل، آن را حذف می‌کند. همچنین تابع exportPainting اطلاعات اشکال و عنوان را به JSON تبدیل و فایل را برای دانلود آماده می‌کند، و importPainting فایل بارگذاری‌شده را می‌خواند و به state تبدیل می‌کند.

#### **Sidebar.tsx**:
این کامپوننت لیستی از اشکال موجود (circle, square, triangle) را به کاربر نمایش می‌دهد. کاربر با کلیک روی هر گزینه می‌تواند نوع شکل فعال را انتخاب یا لغو کند. در UI نیز شکل انتخاب‌شده با رنگ متفاوت نمایش داده می‌شود.
####  **Header.tsx**:
در Header، ورودی متن برای تغییر عنوان نقاشی و دکمه‌هایی برای بارگذاری و ذخیره پروژه قرار دارد. ورودی فایل برای import پنهان است و از طریق برچسب "Import" فعال می‌شود. دکمه‌ی "Export" داده‌های فعلی را به صورت فایل JSON ذخیره می‌کند.
#### **Canvas.tsx**:
مهم‌ترین بخش برنامه بوم یا Canvas است. در اینجا تعاملات ماوس مدیریت می‌شوند. با کلیک روی بوم، اگر ابزار فعال erase نباشد، یک شکل جدید در محل کلیک ایجاد می‌شود.
اگر کلیک روی یک شکل انجام شود، و ابزار در حالت select باشد، shape در حالت درگ قرار می‌گیرد. با حرکت ماوس، مختصات شکل آپدیت می‌شود. اگر ابزار روی erase باشد یا کاربر روی یک شکل دوبار کلیک کند، شکل حذف می‌شود. همچنین، با نگه‌داشتن موس روی شکل‌ها، آن‌ها به رنگ آبی و با افکت متفاوت نمایش داده می‌شوند تا بازخورد بصری بهتری ایجاد شود.
کامپوننت Canvas با استفاده از <canvas> پیاده‌سازی شده و از متدهای گرافیکی مانند ctx.arc, ctx.rect و ctx.lineTo برای رسم اشکال استفاده می‌شود. بازپردازی یا repaint با هر بار تغییر در لیست اشکال انجام می‌شود.
#### **Stats**:
در انتهای صفحه، مؤلفه Stats تعداد هر نوع شکل موجود در نقاشی را نشان می‌دهد. این آمار در زمان واقعی و به کمک فیلتر کردن آرایه‌ی اشکال محاسبه و نمایش داده می‌شود.



